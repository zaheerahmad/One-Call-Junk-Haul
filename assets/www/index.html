<!-- Copyright (c) 2012 Mobile Developer Solutions -->
<!DOCTYPE HTML>
<!DOCTYPE HTML>
<html>
  <head>
    <meta http-equiv="Content-type" name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width">
    <title></title>

	<script type="text/javascript" charset="utf-8" src="phonegap-1.4.1.js"></script>
	<!--<link rel="stylesheet" href="jquery.mobile-1.4.0/jquery.mobile-1.4.0.min.css" />-->
	<!--<link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.css" />-->
	<!--<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>-->
	<!--<script src="jquery.mobile-1.4.0/jquery.mobile-1.4.0.min.js"></script>-->
	<!--<script src="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.js"></script>-->
	<link rel="stylesheet" href="index.css" /> 
	<style>
		.modalWindow{
			width: 100%;
			height: 100%;
			position: absolute;
			z-index: 1500;
			background: white;
			opacity: 0.7;
		}

		.ui-loader{
			z-index: 1501;
		}
	</style>
	<link rel="stylesheet" href="themes/x.min.css" />
	<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
	<!--<script src="http://code.jquery.com/jquery-1.10.2.min.js"></script>-->
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.0/jquery.mobile-1.4.0.min.css" />
	<script src="http://code.jquery.com/mobile/1.4.0/jquery.mobile-1.4.0.min.js"></script>
	
	
	<script type="text/javascript" charset="utf-8">
		// FUNTIONS
		// ######################################################
			// "#1" driverCompleteProfile
			// "#2" getAllUpdatedJobs
			// "#3" assignJobToDriver
			// "#4" getAllDriverJob
			// "#5" switchPage
			// "#6" getAllDriver
			// "#7" authenticateUser
			// "#8" getAllActiveJobs
			// "#9" createUser
			// "#10" makeAjaxCall
			
		
		// JQUERY MOBILE EVENTS
		// ######################################################
			 // "#11" listDriver
			 // "#12" getAllActiveJobsForm
			 // "#13" createUser
			 // "#14" jobDetailManager
			 // "#15" signInForm
			 // "#16" createUser
			 // "#17" assignJobDriver
			 // "#18" driverJob
			 // "#19" driverCompleteProfile
			//FORMS
		//########################################################
			// "#20" dayEndingScreen
	
		// ######################################################
		
		
		Date.prototype.getMonthName = function() {
			var m = ['January','February','March','April','May','June','July',
			'August','September','October','November','December'];
			return m[this.getMonth()];
		} 
		Date.prototype.getDayName = function() {
				var d = ['Sunday','Monday','Tuesday','Wednesday',
				'Thursday','Friday','Saturday'];
				return d[this.getDay()];
		}
	
	     var text;
		 var isDebug = false;
         var allDriverArray;
		 var allActiveJobsArray;
		 var allDriverJob;
		 var selectedAcitvity;		 
         var uuid;
		 
		 var isDriverFlowJobs = false;
			
		var responseData;
			
		
		 $(document).on("mobileinit", function(){
			$.mobile.ajaxEnabled=true;
			$.mobile.loadingMessage = false;
			$.support.cors = true;
		});       
			
			function showModal(){
			  $("body").append('<div class="modalWindow"/>');
			  //$.mobile.showPageLoadingMsg();
			  $.mobile.loading('show');
			 // setTimeout('hideModal()', 2000);
			}

			function hideModal(){
			 $(".modalWindow").remove();
				$.mobile.loading('hide');
			  //$.mobile.hidePageLoadingMsg();

			}
			
			
			// "#1" driverCompleteProfile
			function driverCompleteProfile(responseJson){
			
				if(responseJson.status == "Success"){
					alert(responseJson.message);
					
					driverId = localStorage.getItem("personId");
					var url = '';
					if(isDebug){								
						url = "http://localhost:82/test_site/GetDriverJobs.php?driverId="+driverId;
					}
					else{
						url = 'http://onecalljunkhaul.com/custom-webservices/GetDriverJobs.php?driverId='+driverId;							
					}
					makeAjaxCall(url,'getAllDriverJob','');					
					switchPage("#driverJob");
				}
				else{
					alert(responseJson.message);
				}
			
			
			}
			
			// 	get all updated jobs
			//"#2" getAllUpdatedJobs
			/*function getAllUpdatedJobs(responseJson){
				
				if(responseJson.status == "success"){
					var updateUrl1 = "";
					if(isDebug){											
						updatedUrl1 = 'http://localhost:82/test_site/GetAllOpenedJobs.php';		
					}
					else{
						updatedUrl1 = 'http://onecalljunkhaul.com/custom-webservices/GetAllOpenedJobs.php';
					}
					makeAjaxCall(updatedUrl1,"getAllActiveJobs","");
				}
				else{
					alert(responseJson.message);				
				}				
			}*/
			
			// function ended
			//"#3" assignJobToDriver
			function assignJobToDriver(responseData){
				if(responseData.status == "success"){
					alert(responseData.message);				
				}
				else{
					alert(responseData.message);
				}
			
			
			}
			//"#4" getAllDriverJob
			function getAllDriverJob(responseJson){
				if(responseJson.status == "Success"){
					allDriverJob = responseJson.response;					
					if(localStorage.getItem("role").toUpperCase() == "DRIVER" && localStorage.getItem("isDriverJobPageRefresh") == "true"){
						//$.mobile.changePage( "#driverJob", {allowSamePageTransition: true, transition: "slideup", changeHash: false ,reloadPage: true });
						getAllJobDriver2();
						localStorage.setItem("isDriverJobPageRefresh","false");
					}
					else{
						switchPage("#driverJob");
					}					
				}
				else if(localStorage.getItem("role").toUpperCase() == "DRIVER"){					
						alert(responseJson.message);
						allDriverJob = undefined;
						switchPage("#driverJob");					
				}
				else{
					allDriverJob = undefined;
					alert(responseJson.message);				
				}
			}
		   
		   
			//"#5" switchPage
			function switchPage(nameOfPage){
					var userRole = localStorage.getItem('userRole');
					if(nameOfPage != ""){
						$(":mobile-pagecontainer").pagecontainer("change",nameOfPage, { });
					}
			/*		if(userRole == 'Manager'){
						$(":mobile-pagecontainer").pagecontainer("change",nameOfPage, { });
					}
					else if(userRole == 'Driver'){
						
						$(":mobile-pagecontainer").pagecontainer("change", "#driverSchedule", { });
					}			*/
			
			}



			 // "#6" getAllDriver
			 function getAllDriver(responseJson,nameOfPage){				
				if(responseJson.status == 'Success'){                 
					allDriverArray = responseJson.response;
								
				}
			
			
				
			 
			 }


			 // "#7" authenticateUser
			 function authenticateUser(responseJson){
				
				if(responseJson.status == "Success"){				
					localStorage.setItem('personId',responseJson.response.personId);	
					localStorage.setItem("role",responseJson.response.role);				
				}
				
				if(responseJson.status == "Success" && responseJson.response.role.toUpperCase() == "manager".toUpperCase() ){
					
					var urlGetAllDriver = '';
					if(isDebug){
						urlGetAllDriver = "http://localhost:82/test_site/GetAllDrivers.php";
					}
					else{
						urlGetAllDriver = "http://onecalljunkhaul.com/custom-webservices/GetAllDrivers.php";
					}
					
					makeAjaxCall(urlGetAllDriver,"getAllDriver","#listDriver");
				}
				else if(responseJson.status == "Success" && responseJson.response.role == "Driver" && responseJson.code == 2 ){
					switchPage("#driverCompleteProfile");				
				}
				else if(responseJson.status == "Success" && responseJson.response.role == "Driver" && responseJson.code == 1 ){
							driverId = localStorage.getItem("personId");
							var url = '';
							if(isDebug){								
								url = "http://localhost:82/test_site/GetDriverJobs.php?driverId="+driverId;
							}
							else{
								url = 'http://onecalljunkhaul.com/custom-webservices/GetDriverJobs.php?driverId='+driverId;							
							}
							makeAjaxCall(url,'getAllDriverJob','');											
				}
				else{
					alert(responseJson.message);
				}
				
			 }
			 
			 // "#8" getAllActiveJobs
			/* function getAllActiveJobs(responseJson){
				if(responseJson.status == "Success"){					
					allActiveJobsArray = responseJson.response;
					$('#allActivities').html("");
					var driverInfo;
					var driverInfoHtml = "";
					if(allActiveJobsArray instanceof Array){	
						
						for(var i = 0;i < allActiveJobsArray.length; i++){								
							
							driverInfoHtml = '';
							if(allActiveJobsArray[i].driverDetail != undefined){
								driverId  = allActiveJobsArray[i].driverDetail.personId;
								
								driverFirstName = allActiveJobsArray[i].driverDetail.fName;
								driverLastName = allActiveJobsArray[i].driverDetail.lName;
							
								driverFirstName = driverFirstName != '' ? driverFirstName : 'N/A';
								driverLastName = driverLastName != '' ? driverLastName : 'N/A';

								driverInfoHtml = '<p><font color="red"><b>Driver Name : '+driverFirstName+' '+driverLastName+'</b></font></p>';	
							
							}						
							$('#allActivities').append("<div data-theme= 'a' data-role='collapsible'><h2>"+allActiveJobsArray[i].title+"</h2><ul data-role='listview' data-theme='a' data-divider-theme='b'><li data-role='list-divider'>Friday, October 8, 2010 <span class='ui-li-count'>2</span></li><li><a href='' id = "+"'"+allActiveJobsArray[i].activityId+"'"+" class = 'assignJob'><h3>"+allActiveJobsArray[i].title+"</h3><p><strong>"+allActiveJobsArray[i].description+"</strong></p><p>"+allActiveJobsArray[i].customerName+"</p>"+driverInfoHtml+"</a></li></ul></div>");					
						}
					}
					else if(allActiveJobsArray != undefined){
						//driverId = allActiveJobsArray.driverDetail.personId;
						driverInfoHtml = '';
						if(allActiveJobsArray.driverDetail != undefined){
						
							driverFirstName = allActiveJobsArray.driverDetail.fName;
							driverLastName = allActiveJobsArray.driverDetail.lName;
						
							driverFirstName = driverFirstName != '' ? driverFirstName : 'N/A';
							driverLastName = driverLastName != '' ? driverLastName : 'N/A';

							driverInfoHtml = '<p><font color="red"><b>Driver Name :'+driverFirstName+' '+driverLastName+'</b></font></p>';
						
						}				
							
						$('#allActivities').append("<div data-role='collapsible'><h2>"+allActiveJobsArray.title+"</h2><ul data-role='listview' data-theme='a' data-divider-theme='b'><li data-role='list-divider'>Friday, October 8, 2010 <span class='ui-li-count'>2</span></li><li><a href='' id = "+"'"+allActiveJobsArray.activityId+"'"+" class = 'assignJob'><h3>"+allActiveJobsArray.title+"</h3><p><strong>"+allActiveJobsArray.description+"</strong></p><p>"+allActiveJobsArray.customerName+"</p>"+driverInfoHtml+"</a></li></ul></div>");
					}
					else{
						return;
					}
					
					$('#getAllActiveJobsForm').trigger("create");
					$("a.assignJob").on("click",function(e){
						e.preventDefault();
						var activityId = $(this).attr('id');						
						for(var i = 0; i < allActiveJobsArray.length; i++){
							if(activityId == allActiveJobsArray[i].activityId){
								selectedActivity = allActiveJobsArray[i];
								break;							
							}						
						}						
						$(":mobile-pagecontainer").pagecontainer("change", "#jobDetailManager", { });
					
				});
				
				}
				else{										
					alert(responseJson.message);
				}
			 
			 }*/
			 
			 // "#9" createUser
			 function createUser(responseJson){
				 if(responseJson.status == "Success"){
					allDriverArray.push(responseJson.response);
					alert(responseJson.message);
					$("#createUserName").val('');
					$("#createPassword").val('');
					$("#confirmCreatePassword").val('');
				 }
				 else{
				     alert(responseJson.message);
				 }			 
			 }
			 
			 // "#10" makeAjaxCall
			 function makeAjaxCall(urlHost,func,pageName){
			 
				
					 $.ajax({
								   type: "GET",
								   url:urlHost,
									cache: true,
									async:true,
								   crossDomain: true,								 
								   success: function (data) {
								    
								
								switch(func){
										case "authenticate":
											authenticateUser(data);
										break;
										
										case "getAllDriver":
											getAllDriver(data);
											switchPage(pageName);
										break;
										
										case "createUser":
											createUser(data);
										break;
										
										case "getAllActiveJobs":
											getAllActiveJobs(data);
										break;
										
										case "assignJobToDriver":
											assignJobToDriver(data);
										break;
										
										case "getAllDriverJob":
											getAllDriverJob(data);
										break;
										
										case "getAllUpdatedJobs":
											getAllUpdatedJobsCallBack(data);
										break;
										
										case "driverCompleteProfile":
											driverCompleteProfile(data);
										break;
										
										case "startDriverJobCallBackEvent":
											startDriverJobCallBackEvent(data);
											$("btnStartJob").hide();
										break;

                                        default:
							
							
								}

						},
						 error: function(xhr, textStatus, errorThrown){
						   alert("No network connection found");
						}
				});
			 
			 }
			 
		
			 
		$(document).on("ready",function(){		
			
			$(document).ajaxStart(function() {	
				showModal();
				 //$.mobile.loading('show');
			});
			
			$(document).ajaxStop(function() {
				 //$.mobile.loading('hide');
					hideModal();
			});

            
			 // EVENT FOR LIST DRIVER FOR POPULATING LIST OF DRIVER
				// "#11" listDriver
				$('#listDriver').on('pagebeforeshow', function() {
					$("#allDriverList").html('');
				   
					if(allDriverArray != undefined && allDriverArray instanceof Array){
							for(var i = 0; i < allDriverArray.length; i++){
								if(allDriverArray[i].personlInfo.fname != undefined && allDriverArray[i].personlInfo.fname.replace(/\s+/g, ' ') != ''){	
									nameDriver = allDriverArray[i].personlInfo.fname;								
									driverLastName = allDriverArray[i].personlInfo.lname;
									$("#allDriverList").append("<li><a class='viewDriverJobs' id = "+"'"+allDriverArray[i].personlInfo.personId+"'"+" href=''>"+nameDriver + " " +driverLastName+"</a></li>");
								}
							}
					}
					else if(allDriverArray != undefined && allDriverArray.personlInfo != undefined && allDriverArray.personlInfo.fname != ''){		lname			
						$("#allDriverList").append("<li><a class='viewDriverJobs' id = "+"'"+allDriverArray.personlInfo.personId+"'"+" href=''>"+allDriverArray.personlInfo.fname+ " " +allDriverArray.personlInfo.fname+"</a></li>");					
					}
					else{
						return;
					}
					
					$('#allDriverList').listview('refresh');
						$('a.viewDriverJobs').on('click',function(){
							var driverId = $(this).attr('id');						
							getDriverJobIntialAjax(driverId);
						});
						
						/*$('a.viewDriverJobs').on('click',function(){
							
							var driverId = $(this).attr('id');						
							var url = '';
							if(isDebug){								
								url = "http://localhost:82/test_site/GetDriverJobs.php?driverId="+driverId;
							}
							else{
								url = 'http://onecalljunkhaul.com/custom-webservices/GetDriverJobs.php?driverId='+driverId;							
							}
							makeAjaxCall(url,'getAllDriverJob','');						;
							
						});*/
             
             
             });
			 
			 
			 // EVENT BINDING FOR GETTING AN ACTIVE JOB EVENTS
			 // "#12" getAllActiveJobsForm
			 $("#getAllActiveJobsForm").on('pageinit',function(){             
                $('#allActivities').html('');
				getAllActiveJobsEvent();				
				
			/*	var url = '';
				
					if(isDebug){	
						url = 'http://localhost:82/test_site/GetAllOpenedJobs.php';
						makeAjaxCall(url,'getAllActiveJobs','');						
					}
					else{
						url = 'http://onecalljunkhaul.com/custom-webservices/GetAllOpenedJobs.php';												
						makeAjaxCall(url,'getAllActiveJobs','');						
					}	*/	
					
					
			
				$("#getUpdatedActivties").on("click",updateActivityEvent);
				/*$("#getUpdatedActivties").on("click",function(e){
					e.preventDefault();
					var updatedUrl = "";
					var updatedUrl1 = "";
					if(isDebug){
						updatedUrl = "http://localhost:82/test_site/UpdateActivities.php";						
					}
					else{
						updatedUrl = "http://onecalljunkhaul.com/custom-webservices/UpdateActivities.php";										
					}
					makeAjaxCall(updatedUrl,"getAllUpdatedJobs","");								
				
				*/
             });
			// EVENT ENDED
			 $("#getAllActiveJobsForm").on('pageinit',function(){             
				   // BINDING EVENT FOR ASSIGNING JOB
					
				
				
				//EVENT ENDED			
             
             });
			
			// CLEAR FORM WHEN USER IS CREATED 
			// "#13" createUser
			$("#createUser").on('pagebeforehide',function(){
					$("#createUserName").val('');
					$("#createPassword").val('');
					$("#confirmCreatePassword").val('');			
			});
			// EVENT ENDED
			
			
			
			 
			 
			 
			 // EVENT BINDING FOR SHOWING DETAIL OF ACTIVITY/JOB
			 // "#14" jobDetailManager
			 $("#jobDetailManager").on('pagebeforeshow',function(){
				var isCustomerDetail = false;
				$("#btnBetaPhoto").show();
				$("#assignJobDriver").show();
				$("#btnAphaPhoto").show();
				$("#btnStartJob").show();
				$("#btnEndJob").show();
				
				if(localStorage.getItem("role").toUpperCase() == "DRIVER" && selectedActivity.isJobStarted.toUpperCase() == "YES"){					
					$("#btnBetaPhotoDiv").hide();
					$("#assignJobDriver").hide();
					$("#btnStartJob").hide();
				}
				else if(localStorage.getItem("role").toUpperCase() == "DRIVER" && selectedActivity.isJobStarted.toUpperCase() == "NO"){
					$("#btnBetaPhotoDiv").hide();
					$("#assignJobDriver").hide();
					$("#btnEndJob").hide();
					
				}
				else{
					$("#btnAphaPhotoDiv").hide();
					$("#btnStartJob").hide();
					$("#btnEndJob").hide();					
				
				}
				
				
				if(selectedActivity.customerDetail != undefined){
					isCustomerDetail = true;
				}				
				$("#titleActivityManager").val(selectedActivity.title);
				$("#titleActivityManager").attr('readonly', true);				
				$("#actvityStatusManager").val(selectedActivity.status != undefined ? selectedActivity.status : '');
				$("#actvityStatusManager").attr('readonly', true);
				$("#eventOwnerManager").val(selectedActivity.eventOwner != undefined ? selectedActivity.eventOwner : 'N/A');
				$("#eventOwnerManager").attr('readonly', true);
				$("#actvityStartTimeManager").val(selectedActivity.startTime != '' ? selectedActivity.startTime : 'N/A');
				$("#actvityStartTimeManager").attr('readonly', true);
				$("#actvityEndTimeManager").val(selectedActivity.endTime != '' ? selectedActivity.endTime : 'N/A');
				$("#actvityEndTimeManager").attr('readonly', true);	
				$("#managerDriverStartedJob").val(selectedActivity.isJobStarted != '' ? selectedActivity.isJobStarted : 'N/A');
				$("#managerDriverStartedJob").attr('readonly', true);	

				
				
				if(isCustomerDetail){
					$("#Contact").val(selectedActivity.customerDetail != undefined ? selectedActivity.customerDetail.phone : '');
					$("#Contact").attr('readonly', true);
					$("#leadSourceManager").val(selectedActivity.customerDetail.leadSource != undefined ? selectedActivity.customerDetail.leadSource : '');
					$("#leadSourceManager").attr('readonly', true);
					$("#lastActivityManager").val(selectedActivity.customerDetail.lastActivityTime != undefined ? selectedActivity.customerDetail.lastActivityTime : '');
					$("#lastActivityManager").attr('readonly', true);
					$("#customerNameManager").val(selectedActivity.customerDetail != undefined ? selectedActivity.customerDetail.fName +" "+selectedActivity.customerDetail.lName : '');
					$("#customerNameManager").attr('readonly', true);
					$("#Address").val(selectedActivity.customerDetail != undefined ? selectedActivity.customerDetail.street + ' ' + selectedActivity.customerDetail.state + ' ' + selectedActivity.customerDetail.city : '');
					$("#Address").attr('readonly', true);
					$('#customerNameManager').attr('readonly', true);
				}
				else{
					$("#Contact").val('N/A');
					$("#Contact").attr('readonly', true);
					$("#leadSourceManager").val('N/A');
					$("#leadSourceManager").attr('readonly', true);
					$("#lastActivityManager").val('N/A');
					$("#lastActivityManager").attr('readonly', true);
					$("#customerNameManager").val('N/A');
					$("#customerNameManager").attr('readonly', true);
					$("#Address").val('N/A');
					$("#Address").attr('readonly', true);
					$('#customerNameManager').attr('readonly', true);
				}
				
				
				$("#activityDescriptionManager").text(selectedActivity.description);
				$('#activityDescriptionManager').attr('readonly', true);
				
				$("#btnBetaPhoto").on("click",function(e){
						e.preventDefault();
						take_pic();
				
				
				});
				
				
			 
			 
			 });
			 
			 
			 
			 //EVENT ENDED
			 
			 $("#signInPage").on('pageinit',function(){             
                document.addEventListener("deviceready", onDeviceReady, true);
             
             });


			// BINDING SIGN IN EVENT
			// "#15" signInForm
			$("#signInForm").on("submit",function(e){
				var selectedRole = $( "#select-native-18 option:selected" ).text();
				localStorage.setItem('userRole',selectedRole);				
				e.preventDefault();
				var username = $("#userName").val();
				var password = $("#password").val();
				if(username == "" && password == ""){
					alert("Username/Password cannot be empty .. ");
					
				}
				if(selectedRole == "Manager"){					
					
					//alert(device.uuid);
                    var url = ""; 
					
                    if(isDebug){
						url = "http://localhost:82/test_site/AuthenticateUser.php?username="+username+"&password="+password+"&role=Manager&imei=420";
					}
					else{
						uuidDevice = device.uuid;
						url = "http://onecalljunkhaul.com/custom-webservices/AuthenticateUser.php?username="+username+"&password="+password+"&role=manager&imei="+"351746052044511";
					}
					makeAjaxCall(url,"authenticate","");
			
				}
				else{
					if(isDebug){
						url = "http://localhost:82/test_site/AuthenticateUser.php?username="+username+"&password="+password+"&role=Driver&imei=11111111";
					}
					else{
						uuidDevice = device.uuid;
						url = "http://onecalljunkhaul.com/custom-webservices/AuthenticateUser.php?username="+username+"&password="+password+"&role=Driver&imei="+uuidDevice;
					}
					makeAjaxCall(url,"authenticate","");				
					//alert("Please select manager for now ..");
				}						
			});

			// BINDING CREATE USER FORM
			// "#16" createUser
			$("#createUser").on("submit",function(e){
				e.preventDefault();
				username = $("#createUserName").val();
				password = $("#createPassword").val();
				confirmPassword = $("#confirmCreatePassword").val();
				
				if(password != confirmPassword){
					alert("Password dosen't match ..");
					return;
				
				}
				
				role = $("#createRole option:selected").text();
				var url = '';
				if(isDebug){
					url = "http://localhost:82/test_site/CreateNewUser.php?username="+username+"&password="+password+"&role="+role+"&imei=123";
				}
				else{
					url = "http://onecalljunkhaul.com/custom-webservices/CreateNewUser.php?username="+username+"&password="+password+"&role="+role+"&imei=123";
				}
				makeAjaxCall(url,"createUser");
			
			
			
			});
			
			
			
				// type of cash
				$("#ddlType").on("change",function(){
					cashType = $(this).val();
					if(cashType == "voucher"){
						$("#typeVoucher").append("<fieldset data-transition='slidedown' data-role='controlgroup'><legend>Vouhcer type</legend><input type='radio' name='radio-choice-v-2' id='radio-choice-v-2a' value='on' checked='checked'><label for='radio-choice-v-2a'>Groupon $99</label><input type='radio' name='radio-choice-v-2' id='radio-choice-v-2b' value='off'><label for='radio-choice-v-2b'>Groupon $189</label><input type='radio' name='radio-choice-v-2' id='radio-choice-v-2c' value='other'><label for='radio-choice-v-2c'>Groupon $249</label><input type='radio' name='radio-choice-v-2' id='radio-choice-v-2d' value='other'><label for='radio-choice-v-2d'>Living Social $99</label><input type='radio' name='radio-choice-v-2' id='radio-choice-v-2e' value='other'><label for='radio-choice-v-2e'> Living Social $189</label><input type='radio' name='radio-choice-v-2' id='radio-choice-v-2f' value='other'><label for='radio-choice-v-2f'>Living social $249</label> </fieldset>").slideDown(9000);
						$('#stopJob').trigger('create');
					}
					else{
						$("#typeVoucher").empty();						
					}
				});
				
				
				// EVENT BINDING FOR SELECTING DRIVER AGAINST ANY PARTICULAR ACTIVITY
				// "#17" assignJobDriver
				$("#assignJobDriver").on("collapsibleexpand",function(){
					var urlGetAllDriver = '';
					if(isDebug){	
						urlGetAllDriver = "http://localhost:82/test_site/GetAllDrivers.php";	
					}
					else{
						urlGetAllDriver = "http://onecalljunkhaul.com/custom-webservices/GetAllDrivers.php";
					}					
					
					makeAjaxCall(urlGetAllDriver,"#getAllDriver","");
							
					$("#assignJobDriverList").html('');             
					if(allDriverArray instanceof Array){
						for(var i = 0; i < allDriverArray.length; i++){
							if(allDriverArray[i].personlInfo != undefined && allDriverArray[i].personlInfo.fname != ''){
								nameDriver = allDriverArray[i].username;
								$("#assignJobDriverList").append("<li><a id = "+"'"+allDriverArray[i].personlInfo.personId+"'"+" class='assignJobToDriver' href=''>"+allDriverArray[i].personlInfo.fname + ' ' + allDriverArray[i].personlInfo.lname +"</a></li>");
							}
						}
					}
					else if(allDriverArray != undefined && allDriverArray.personlInfo != undefined && allDriverArray.personlInfo.fname != ''){
						$("#assignJobDriverList").append("<li><a id = "+"'"+allDriverArray.personlInfo.personId+"'"+" class='assignJobToDriver' href=''>"+allDriverArray.personlInfo.fname+ " " + allDriverArray.personlInfo.fname + "</a></li>");
					}
					else{
						return;
					}
						
					$('#assignJobDriverList').listview('refresh');
					
					$("a.assignJobToDriver").on('click',function(e){
						e.preventDefault();
						var driverId = $(this).attr('id');
						var url = "";
						if(isDebug){
							url = "http://localhost:82/test_site/AssignJobToDriver.php?driverId="+driverId+"&activityId="+selectedActivity.activityId;						
						}
						else{
							url = "http://onecalljunkhaul.com/custom-webservices/AssignJobToDriver.php?driverId="+driverId+"&activityId="+selectedActivity.activityId;
						}
						
						 
						
						
						 makeAjaxCall(url,"assignJobToDriver","");
					
					
					
					});
				
				
				});
				// EVENT ENDED
				
				//  GET ALL ACTIVE JOBS PANE
				/*	$("#activeJobsPane").on('click',function(e){
						e.preventDefault();
						var url = '';
						if(isFirstCallToAllJobs){
							if(isDebug){							
								url = 'http://localhost:82/test_site/GetAllOpenedJobs.php';							
							}
							else{
								url = 'http://onecalljunkhaul.com/custom-webservices/GetAllOpenedJobs.php';
							}
							
							makeAjaxCall(url,'getAllActiveJobs','');
							isFirstCallToAllJobs = false;
						}
						switchPage("#getAllActiveJobsForm");
						
					
					
					});*/
				
				
				// EVENT ENDED
				// "#18" driverJob
				$("#driverJob").on("pageinit",function(){
					
					
				});
				
				
				// "#18" driverJob
				//$("#driverJob").on("pagebeforeshow",function(){
				getAllJobDriver2
				$(document).on("pagebeforeshow","#driverJob",getAllJobDriver2);
				
				/*$(document).on("pagebeforeshow","#driverJob",function(){
					role = localStorage.getItem('role');
					//$("#driverActivity").empty();
					$("#endDayDriver").remove();
					$("#getAllJobDriver").remove();
				
					if(role != undefined && role.toUpperCase() == "MANAGER"){
						//$("#driverJobHeader").append('<h1>One Call Junk Haul</h1>');
					}
					else{						
						$("#driverJobHeader").append('<a data-role="button" id="endDayDriver" data-rel="refresh" data-transition="slidedown" href="#dayEndingScreen" class="ui-btn-left" id="endJobButton" data-icon="gear">End Day</a><a data-role="button" data-rel="refresh" class="ui-btn-right" id="getAllJobDriver" data-icon="gear">Refresh</a>');
						$("#getAllJobDriver").on("click",driverJobRefresh);
						$("#btnStartJob").on("click",startDriverJobEvent);
					}
					$("#driverJobHeader").trigger('create');
					$("#driverActivity").empty();						
					//allDriverJob = allActiveJobsArray[2];
					if(allDriverJob != undefined && allDriverJob instanceof Array){
						for(var i = 0;i < allDriverJob.length; i++){					
							$('#driverActivity').append("<div data-role='collapsible'><h2>"+allDriverJob[i].title+"</h2><ul data-role='listview' data-theme='a' data-divider-theme='b'><li data-role='list-divider'>Friday, October 8, 2010 <span class='ui-li-count'>2</span></li><li><a href='' id = "+"'"+allDriverJob[i].activityId+"'"+" class = 'detailDriverJob'><h3>"+allDriverJob[i].title+"</h3><p><strong>"+allDriverJob[i].description+"</strong></p><p>"+allDriverJob[i].customerName+"</p></a></li></ul></div>");
					
						}
					}
					else if(allDriverJob != undefined){
						$('#driverActivity').append("<div data-role='collapsible'><h2>"+allDriverJob.title+"</h2><ul data-role='listview' data-theme='a' data-divider-theme='b'><li data-role='list-divider'>Friday, October 8, 2010 <span class='ui-li-count'>2</span></li><li><a href='' id = "+"'"+allDriverJob.activityId+"'"+" class = 'detailDriverJob'><h3>"+allDriverJob.title+"</h3><p><strong>"+allDriverJob.description+"</strong></p><p>"+allDriverJob.customerName+"</p></a></li></ul></div>");
					}
					else{
						$("#driverActivity").empty();
						return;
					}
					$('#driverJob').trigger("create");
					$('a.detailDriverJob').on('click',showPageDetailForDriverJob);
					
					
				});*/
				// "#18"
				$("#driverJob").on("pagebeforehide",function(){
					role = localStorage.getItem("role");
					if(role.toUpperCase() == "DRIVER"){
						$("#getAllJobDriver").unbind("click",driverJobRefresh);				
					}
				});
				
				
				// "#19" driverCompleteProfile
				$("#driverCompleteProfile").on("pageinit",function(){
					$("#driverCompleteProfileForm").on("submit",function(e){
						e.preventDefault();
						fname = $("#fn").val();
						lname = $("#ln").val();
						contactNo = $("#driverContactNo").val();
						email = $("#driverEmailAddress").val();
						address = $("#driverAddress").val();
						
						if(fname == ""){
							alert("First name required..");
							return;
						}
						else if(lname == ""){
							alert("Last name required..");
							return;
						}
						else if(contactNo == ""){
							alert("Contact # required..");
							return;
						}
						else if(email == ""){
							alert("Email required..");
							return;
						}
						else if(address == ""){
							alert("Address required..")
							return;
						}
						personId = localStorage.getItem("personId");
						
						url = "";
						if(isDebug){
							url = "http://localhost:82/test_site/UpdateProfile.php?personId="+personId+"&fName="+fname+"&lName="+lname+"&email="+email+"&address="+address+"&contact="+contactNo+"&imei=11111111&imsi=&device=Apple";
							makeAjaxCall(url,"driverCompleteProfile","");
						
						}
						else{
							uuidDevice = device.uuid;
							url = "http://onecalljunkhaul.com/custom-webservices/UpdateProfile.php?personId="+personId+"&fName="+fname+"&lName="+lname+"&email="+email+"&address="+address+"&contact="+contactNo+"&imei="+uuidDevice+"&imsi=&device=Apple";
							makeAjaxCall(url,"driverCompleteProfile","");
						}
							
					
					
					});
				
				
				});
				
				
				
				
		});	
	</script>
	
  </head>
  
<body onload="init();">
	<!-- Start of first page -->
<div data-role="page"  id="signInPage">

	<div data-role="header" data-theme="b" role="banner" data-position="fixed">
		<h1>One Call Junk Haul</h1>
	</div><!-- /header -->

	<div data-role="content">
		<form action="form.php" id="signInForm" method="post">
			<label for="user">User Name</label>
    		<input type="text" name="name" id="userName" autocomplete = "false" value=""  />
    		<label for="basic">Password</label>			
			<input type="password" name="name" id="password" value=""  />
			<div data-role="fieldcontain">			
				<label for="select-choice-a" class="select">Role</label>
				<select name="select-choice-a" id="select-native-18" data-native-menu="false">
					<option>Select Role</option>
					<option value="1">Manager</option>
					<option value="2">Driver</option>	
				</select>
			</div>			
    		<input type="submit" data-icon="check" data-theme="b" value="Submit"/>		
		</form>
	</div><!-- /content -->

	<!--<div data-role="footer" data-position="fixed" data-theme="b" role="banner">
		<h4>Page Footer</h4>
	</div><!-- /footer -->
</div><!-- /page -->

<div data-role = "page" id="driverJob">
	<div data-role="header" data-theme="b" id="driverJobHeader" role="banner">		
			<h1>One Call Junk Haul</h1>
	</div><!-- /header -->
	
	<div data-role = "content" data-theme = "b>
		
				<div data-role="collapsible-set" id="driverActivity" data-theme="a" data-content-theme="b"/>

	</div><!-- /content -->

	<!--<div data-role="footer" data-position="fixed" data-theme="b" role="banner">
		<h4>Page Footer</h4>
	</div><!-- /footer -->
	
</div>
	
	








<div data-role="page"  id="getAllActiveJobsForm">

	<div data-role="header" data-theme="b" data-position="true" role="banner">
		<h1>One Call Junk Haul</h1>
		<a data-role="button" data-rel="refresh" class="ui-btn-right" id="getUpdatedActivties" data-icon="gear">Refresh</a>
	</div><!-- /header -->

		<div data-role="content" id="allActivities">
			<div data-role="collapsible-set" id="allActivities" data-theme="a" data-content-theme="b">
			
			
			</div>
						
		
		</div><!-- /content -->
	
	<div data-role="footer" data-theme = "b" data-id="fixNavbar" data-position="fixed">
		<div data-role="navbar">
				<ul>
					<li><a href="#listDriver">Driver</a></li>
					<li><a href="#getAllActiveJobsForm">Activities</a></li>								
				</ul>
		</div><!-- /navbar -->		
	</div><!-- /footer -->
</div><!-- /page -->






<div data-role="page" id="createUser">

	<div data-role="header" data-theme="b" role="banner" data-position="fixed" data-id="fixNavbar">
		<h1>Create User</h1>
		 <a data-role="button" data-rel="back" data-icon="back">Back</a>
	</div><!-- /header -->

	<div data-role="content">
		<form action="form.php" id="createUserForm" method="post">
			<label for="user">User Name</label>
    		<input type="text" name="name" id="createUserName" value=""  />
    		<label for="basic">Password</label>			
			<input type="text" name="name" id="createPassword" value=""  />
			<label for="basic">Confrim Password</label>			
			<input type="text" name="name" id="confirmCreatePassword" value=""  />
			<div data-role="fieldcontain">			
				<label for="select-choice-a" class="select">Role</label>
				<select name="select-choice-a" id="createRole" data-native-menu="false">
					<option>Select Role</option>
					<option value="1">Manager</option>
					<option value="2">Driver</option>	
				</select>
			</div>			
    		<input type="submit" data-icon="check" data-theme="b" value="Submit"/>		
		</form>
	</div><!-- /content -->

	<!--<div data-role="footer" data-position="fixed" data-theme="b" role="banner">
		<h4>Page Footer</h4>
	</div><!-- /footer -->
</div><!-- /page -->


<!-- Screen for All driver -->
<div data-role="page" id="listDriver">

	<div data-role="header" data-id="fixNavbar" data-theme = "b" data-position="fixed">
		<h1>One Call Junk Haul</h1>
		<a data-role="button" data-rel="back" data-icon="back">Back</a>
		<a href="#createUser" data-transition="slidedown" data-icon="check">Create</a>
	</div><!-- /header -->

	<div data-role="content" id="allDriver">
      <ul data-role='listview' data-filter='true' data-filter-placeholder='Search Drivers ...' data-inset='true' id="allDriverList">
        
      
      
      </ul>

		
	</div><!-- /content -->

	<div data-role="footer" data-id="fixNavbar" data-theme = "b" data-position="fixed">
		<div data-role="navbar">
				<ul>
					<li><a id = "driverPane" href="#listDriver">Driver</a></li>
					<li><a id = "activeJobsPane" href="#getAllActiveJobsForm">Activities</a></li>								
				</ul>
		</div><!-- /navbar -->		
	</div><!-- /footer -->
</div><!-- /page -->






<div data-role="page" id="driverSchedule">

	<div data-role="header" data-position = "fixed" data-id="fixNavbar">
		<h1>One Call Junk Haul</h1>
	</div><!-- /header -->

	<div data-role="content">
		<table data-role="table" id="table-custom-2" data-mode="columntoggle" class="ui-body-d ui-shadow table-stripe ui-responsive" data-column-btn-theme="b" data-column-btn-text="Columns to display..." data-column-popup-theme="a">
         <thead>
           <tr class="ui-bar-d">
             <th data-priority="2">#</th>
             <th>Name</th>
             <th data-priority="3">Date</th>
             <th data-priority="1"><abbr title="Rotten Tomato Rating">Address</abbr></th>
             <th data-priority="5">Contact</th>
           </tr>
         </thead>
         <tbody>
           <tr>
             <th>1</th>
             <td><a href="#detailJob" data-rel="external">Name A</a></td>
             <td>sample Date</td>
             <td>sample Address</td>
             <td>74</td>
           </tr>
           <tr>
             <th>2</th>
             <td><a href="#detailJob" data-rel="external">Name A</a></td>
             <td>sample Date</td>
             <td>sample Address</td>
             <td>64</td>
           </tr>
           <tr>
             <th>3</th>
             <td><a href="#detailJob" data-rel="external">Name A</a></td>
             <td>sample Date</td>
             <td>sample Address</td>
             <td>87</td>
           </tr>
           <tr>
             <th>4</th>
             <td><a href="#detailJob" data-rel="external">Name A</a></td>
             <td>sample Date</td>
             <td>sample Address</td>
             <td>87</td>
           </tr>
           <tr>
             <th>5</th>
             <td><a href="#detailJob" data-rel="external">Name A</a></td>
             <td>sample Date</td>
             <td>sample Address</td>
             <td>87</td>
           </tr>
           <tr>
             <th>6</th>
             <td><a href="#detailJob" data-rel="external">Name A</a></td>
             <td>sample Date</td>
             <td>sample Address</td>
             <td>74</td>
           </tr>
           <tr>
             <th>7</th>
             <td><a href="#detailJob" data-rel="external">Name A</a></td>
             <td>sample Date</td>
             <td>sample Address</td>
             <td>122</td>
           </tr>
           <tr>
             <th>8</th>
             <td><a href="#detailJob" data-rel="external">Name A</a></td>
             <td>sample Date</td>
             <td>sample Address</td>
             <td>72</td>
           </tr>
           <tr>
             <th>9</th>
             <td><a href="#detailJob" data-rel="external">Name A</a></td>
             <td>sample Date</td>
             <td>sample Address</td>
             <td>85</td>
           </tr>
           <tr>
             <th>10</th>
             <td><a href="#detailJob" data-rel="external">Name A</a></td>
             <td>sample Date</td>
             <td>sample Address</td>
             <td>78</td>
           </tr>
         </tbody>
       </table>		
	</div><!-- /content -->
		<div data-role="footer" data-id="fixNavbar" data-position="fixed">
			<div data-role="navbar">
				<ul>
					<li><a href="#driverSchedule">Activities</a></li>
					<li><a href="#dayEndingScreen">End Day</a></li>								
				</ul>
			</div><!-- /navbar -->
		</div><!-- /footer -->
	</div><!-- /page -->
	
	
	<!-- DETAIL PAGE TO VIEW DETAIL OF ANY GIVEN ACTIVITY  -->

	<div data-role="page" id="detailJob">

		<div data-role="header" data-theme = "b" data-postion = "fixed">
			<h1>One Call Junk Haul</h1>
		</div><!-- /header -->

		<div data-role="content">
			 <fieldset>

			<div data-role="fieldcontain" class = "ui-hide-label">
                    <label for="birth-place">Customer Name</label>
                    <input type="text" name="name" id="customerName" value="" placeholder="name" disable/>
             </div>
			 <div data-role="fieldcontain" class = "ui-hide-label">
                    <label for="birth-place">Address</label>
                    <input type="text" name="Address" id="customerAddress" value="" placeholder="Address" disable/>
             </div>
			 <div data-role="fieldcontain" class = "ui-hide-label">
                    <label for="birth-place">Contact</label>
                    <input type="text" name="Contact" id="customerContact" value="" placeholder="Contact" disable/>
             </div>
			 <div data-role="fieldcontain" class = "ui-hide-label">
                   <label for="textarea">Description</label>
					<textarea cols="40" rows="40" name="activityDescription" id="activityDescription"></textarea>
             </div>
			 <div data-role="fieldcontain" class = "ui-hide-label">
				<div id="Gallery">
					<div class="gallery-item"><a href="images/full/001.jpg"><img src="images/thumb/001.jpg" alt="Image 01"/></a></div>
					<a href="#test" data-role="button" data-rel="dialog" data-transition="slide" data-inline="true">View</a>
				</div>
			 
			 </div>
        </fieldset>
		
		<!--<div id="hidden-wrapper2">
			<div id="text-container ">
				<button type="reset" data-inline="true" data-theme="b">Start</button>
			</div>
			<div id="btn-container">
				<button type="reset" data-inline="true" data-theme="b">Stop</button>
			</div>        
		</div>-->
		
		<div data-inline="true">
			<a href="#stopJob" data-inline="true" data-role="button" data-theme="b">End</a>
		</div>
	
		</div><!-- /content -->

		<!--<div data-role="footer" data-theme = "b" data-position="fixed">
			<h4>Page Footer</h4>
		</div><!-- /footer -->
	</div><!-- /page -->
	
	
	<!-- DETAIL ACTIVITY PAGE ENDED -->
	
	
	<!--stop job-->
	<div data-role="page" id="stopJob">

		<div data-role="header" data-theme="a" role="banner">
			<h1>One Call Junk Haul</h1>
		</div><!-- /header -->

		<div data-role="content">
			<div data-role="fieldcontain">
				<label for="txtCustomerName">
					Customer Name
				</label>
				<input name="customer_name" id="txtCustomerName" placeholder="Customer Name"
				value="" type="text" data-mini="true" disable>
			</div>
			<div data-role="fieldcontain">
				<label for="txtRevenue">
					Revenue ($$)
				</label>
				<input name="revenue" id="txtRevenue" placeholder="Revenue" value="" type="number"
				data-mini="true">
			</div>
			<div data-role="fieldcontain">
				<label for="ddlType">
					Type:
				</label>
				<select id="ddlType" name="type" data-theme="c" data-mini="true">
					<option value="cash">
						Cash
					</option>
					<option value="check">
						Check
					</option>
					<option value="cc">
						CC
					</option>
					<option value="credit">
						Credit
					</option>
					<option value="voucher">
						Voucher
					</option>
				</select>
			</div>
			<div data-role="fieldcontain" id="typeVoucher">
				
			</div>
			<div data-role="fieldcontain">
				<label for="txtNotePrice">
					How did you come up with the price?
				</label>
				<textarea name="end_job_note" id="txtNotePrice" placeholder="" data-mini="true"></textarea>
			</div>
			
			<div data-role="fieldcontain">
				<label for="lunchbreak">
					Break Duration(In hours)
				</label>
				<input name="lunchbreak" id="lunchbreak" placeholder="Break" value="" type="number"
				data-mini="true"/>
			</div>
				
			<a id="btnBetaPhoto" data-inline="true" data-role="button" data-theme="b" href="#page1">
				Upload Beta Photo
			</a>
		</div><!-- /content -->

		<!--<div data-role="footer" data-position="fixed" data-theme="a" role="banner">
			<h4>Page Footer</h4>
		</div><!-- /footer -->
</div><!-- /page -->


<!-- Start of first page -->
<div data-role="page" id="welcomeManagerScreen">

	<div data-role="header" data-id="fixNavbar" data-theme="a" role="banner">
		<h1>Activities</h1>
	</div><!-- /header -->

	<div data-role="content">
			
	</div><!-- /content -->

	<div data-role="footer" data-id="fixNavbar" data-position="fixed">
			<div data-role="navbar">
				<ul>
					<li><a href="#welcomeManagerScreen">Driver</a></li>
					<li><a href="#welcomeManagerScreen2">Activities</a></li>								
				</ul>
			</div><!-- /navbar -->
	</div><!-- /footer -->
</div><!-- /page -->


<div data-role="page" id="welcomeManagerScreen2">

	<div data-role="header" data-id="fixNavbar" data-theme="a" role="banner">
		<h1>Activities</h1>
	</div><!-- /header -->

<div data-role="content">
	
	<table data-role="table" id="table-custom-2" data-mode="columntoggle" class="ui-body-d ui-shadow table-stripe ui-responsive" data-column-btn-theme="b" data-column-btn-text="Columns to display..." data-column-popup-theme="a">
         <thead>
           <tr class="ui-bar-d">
             <th data-priority="2">#</th>
             <th>Name</th>
             <th data-priority="3">Date</th>
             <th data-priority="1"><abbr title="Rotten Tomato Rating">Address</abbr></th>
             <th data-priority="5">Contact</th>
           </tr>
         </thead>
         <tbody>
           <tr>
             <th>1</th>
             <td><a href="#jobDetailManager" data-rel="external">Name A</a></td>
             <td>sample Date</td>
             <td>sample Address</td>
             <td>74</td>
           </tr>
           <tr>
             <th>2</th>
             <td><a href="#jobDetailManager" data-rel="external">Name A</a></td>
             <td>sample Date</td>
             <td>sample Address</td>
             <td>64</td>
           </tr>
           <tr>
             <th>3</th>
             <td><a href="#jobDetailManager" data-rel="external">Name A</a></td>
             <td>sample Date</td>
             <td>sample Address</td>
             <td>87</td>
           </tr>
           <tr>
             <th>4</th>
             <td><a href="#jobDetailManager" data-rel="external">Name A</a></td>
             <td>sample Date</td>
             <td>sample Address</td>
             <td>87</td>
           </tr>
           <tr>
             <th>5</th>
             <td><a href="#jobDetailManager" data-rel="external">Name A</a></td>
             <td>sample Date</td>
             <td>sample Address</td>
             <td>87</td>
           </tr>
           <tr>
             <th>6</th>
             <td><a href="#jobDetailManager" data-rel="external">Name A</a></td>
             <td>sample Date</td>
             <td>sample Address</td>
             <td>74</td>
           </tr>
           <tr>
             <th>7</th>
             <td><a href="#jobDetailManager" data-rel="external">Name A</a></td>
             <td>sample Date</td>
             <td>sample Address</td>
             <td>122</td>
           </tr>
           <tr>
             <th>8</th>
             <td><a href="#jobDetailManager" data-rel="external">Name A</a></td>
             <td>sample Date</td>
             <td>sample Address</td>
             <td>72</td>
           </tr>
           <tr>
             <th>9</th>
             <td><a href="#jobDetailManager" data-rel="external">Name A</a></td>
             <td>sample Date</td>
             <td>sample Address</td>
             <td>85</td>
           </tr>
           <tr>
             <th>10</th>
             <td><a href="#jobDetailManager" data-rel="external">Name A</a></td>
             <td>sample Date</td>
             <td>sample Address</td>
             <td>78</td>
           </tr>
         </tbody>
       </table>		
	</div><!-- /content -->
			<div data-role="footer" data-id="fixNavbar" data-position="fixed">
					<div data-role="navbar">
						<ul>
							<li><a href="#welcomeManagerScreen">Driver</a></li>
							<li><a href="#welcomeManagerScreen2">Activities</a></li>													
						</ul>
					</div><!-- /navbar -->
			</div><!-- /footer -->
</div><!-- /page -->

<!-- Start of first page -->
<div data-role="page" id="test">

	<div data-role="header" data-id="fixNavbar" data-theme="a" role="banner">
		<h1>Activities</h1>
	</div><!-- /header -->

	<div data-role="content">
			<div class="gallery-item"><a href="images/full/001.jpg"><img src="images/full/001.jpg" alt="Image 01"/></a></div>
	</div><!-- /content -->

	
</div><!-- /page -->
	
	
	
	


<div data-role="page" data-theme = "b" data-position = "fixed" id="jobDetailManager">

		<div data-role="header">
			<h1>One Call Junk Haul</h1>
		</div><!-- /header -->

		<div data-role="content">
			 <fieldset>

			<div data-role="fieldcontain" class = "">
                    <label for="titleActivityManager">Title :</label>
					<textarea cols="40" rows="8" name="titleActivityManager" id="titleActivityManager" placeholder="" readonly></textarea>
                    <!--<input type="text" name="titleActivityManager" id="titleActivityManager" value="" placeholder="" disable/>-->
             </div>
			 
			 <div data-role="fieldcontain" class = "">
                    <label for="actvityStatusManager">Status :</label>
                    <input type="text" name="actvityStatusManager" id="actvityStatusManager" value="" placeholder="" disable/>
             </div>
			 
			 <div data-role="fieldcontain" class = "">
                    <label for="managerDriverStartedJob">Driver Started Job? :</label>
                    <input type="text" name="managerDriverStartedJob" id="managerDriverStartedJob" value="" placeholder="" disable/>
             </div>
			 
			 <div data-role="fieldcontain" class = "">
                    <label for="actvityStatusManager">Start Time :</label>
                    <input type="text" name="actvityStartTimeManager" id="actvityStartTimeManager" value="" placeholder="" disable/>
             </div>
			 
			 <div data-role="fieldcontain" class = "">
                    <label for="actvityEndTimeManager">End Time :</label>
                    <input type="text" name="actvityEndTimeManager" id="actvityEndTimeManager" value="" placeholder="" disable/>
             </div>
			 
			 <div data-role="fieldcontain" class = "">
                    <label for="eventOwnerManager">Event Owner :</label>
                    <input type="text" name="eventOwnerManager" id="eventOwnerManager" value="" placeholder="" disable/>
             </div>
			  
			 <div data-role="fieldcontain" class = "">
                   <label for="activityDescriptionManager">Description :</label>
					<textarea cols="50" rows="70" name="activityDescriptionManager" id="activityDescriptionManager" readonly></textarea>
             </div>		

			<div data-role="fieldcontain" class = "">
                    <label for="customerNameManager">Customer Name :</label>
                    <input type="text" name="customerNameManager" id="customerNameManager" value="" placeholder="Please enter name of customer" disable/>
             </div>
			 <div data-role="fieldcontain" class = "">
                    <label for="Address">Address :</label>
                    <input type="text" name="Address" id="Address" value="" placeholder="Address" disable/>
             </div>
			 <div data-role="fieldcontain" class = "">
                    <label for="Contact">Contact :</label>
                    <input type="text" name="Contact" id="Contact" value="" placeholder="Contact" disable/>
             </div>

			 <div data-role="fieldcontain" class = "">
                    <label for="leadSourceManager">Lead Source :</label>
                    <input type="text" name="leadSourceManager" id="leadSourceManager" value="" placeholder="" disable/>
             </div>	
			 
			 <div data-role="fieldcontain" class = "">
                    <label for="lastActivityManager">Last Activity Time :</label>
                    <input type="text" name="lastActivityManager" id="lastActivityManager" value="" placeholder="" disable/>
             </div>	
			 
			 <div data-role="fieldcontain" id="btnBetaPhotoDiv" class = "">
                   <a id="btnBetaPhoto" data-inline="true" data-role="button" onclick = "take_pic();" data-theme="b">
						Upload Beta Photo
					</a>
            </div>
			
			<div data-role="fieldcontain" id="btnAphaPhotoDiv" class = "">
                   <a id="btnAphaPhoto" data-inline="true" data-role="button" onclick = "take_pic();" data-theme="b">
						Upload Alpha Photo
					</a>
            </div>
			
			<div data-role="fieldcontain" id="btnStartJob" class = "">
                   <a id="btnStartJobHref" data-inline="true" data-role="button" data-theme="b">
						Start Job
					</a>
            </div>
			
			<div data-role="fieldcontain" id="btnEndJob" class = "">
                   <a id="btnEndJobHref" data-inline="true" data-role="button" data-theme="b">
						End Job
					</a>
            </div>
			
			
			 
			 <div data-role="collapsible" data-theme="b" id="assignJobDriver" data-content-theme="c">
				<h2>Choose a driver...</h2>
				<ul data-role="listview" data-theme = "b"	id="assignJobDriverList" data-filter="true">
				
					
				</ul>
			</div>
			
        </fieldset>
		
		<!--<div id="hidden-wrapper2">
			<div id="text-container ">
				<button type="reset" data-inline="true" data-theme="b">Start</button>
			</div>
			<div id="btn-container">
				<button type="reset" data-inline="true" data-theme="b">Stop</button>
			</div>        
		</div>-->		
		</div><!-- /content -->

		<!--<div data-role="footer" data-position="fixed">
			<h4>Page Footer</h4>
		</div><!-- /footer -->
	</div><!-- /page -->	
	
	<!-- Day ending page for driver -->
	<!-- "#20" dayEndingScreen -->
	<div data-role="page" id="dayEndingScreen" data-postion = "fixed">

		<div data-role="header" data-theme="b" data-position="true">
			<h1>One Call Junk Haul</h1>
		</div><!-- /header -->

		<div data-role="content">
			 <fieldset>

			<div data-role="fieldcontain">                  
					<label for="disposalWeight">Disposal Weight (In KGs)</label>
                    <input type="number" name="disposalWeight" id="disposalWeight" value="" placeholder="Please enter disposal weight"/>
             </div>
			<div data-role="fieldcontain">                  
					<label for="invoiceNumber">Invoice Number (Comma Separated if more than 1)</label>
                    <input type="text" name="invoiceNumber" id="invoiceNumber" value="" placeholder="Please enter invoice number"/>
             </div>
			 <div data-role="fieldcontain">
                    <label for="gas">Gas ($$)</label>
                    <input type="number" name="gas" id="gas" value="" placeholder="Please enter gas expense"/>
             </div>
			 <div data-role="fieldcontain">
                    <label for="tolls">Tolls ($$)</label>
                    <input type="number" name="tolls" id="tolls" value="" placeholder="Please enter toll expense "/>
             </div>
			  <div data-role="fieldcontain">
                    <label for="disposalExpense">Disposal Expense ($$)</label>
                    <input type="number" name="disposalExpense" id="disposalExpense" value="" placeholder="Please enter disposal expense"/>
             </div>
			  <div data-role="fieldcontain">
                    <label for="otherExpense">Other Expense ($$)</label>
                    <input type="number" name="otherExpense" id="otherExpense" value="" placeholder="Please enter other expense"/>
             </div>			 
			 
			 <div data-role="fieldcontain">
                   <a id="btnDayEnd" data-role="button" data-inline="true" data-theme="b" href="#page1">
						End
					</a>
            </div>		
        </fieldset>
		
		<!--<div id="hidden-wrapper2">
			<div id="text-container ">
				<button type="reset" data-inline="true" data-theme="b">Start</button>
			</div>
			<div id="btn-container">
				<button type="reset" data-inline="true" data-theme="b">Stop</button>
			</div>        
		</div>-->		
		</div><!-- /content -->

		<div data-role="footer" data-id="fixNavbar" data-position="fixed">
			<!--<div data-role="navbar">
				<ul>
					<li><a href="#driverSchedule">Activities</a></li>
					<li><a href="#dayEndingScreen">End Day</a></li>								
				</ul>
			</div><!-- /navbar -->
		</div><!-- /footer -->
	</div><!-- /page -->	
	
	
<div data-role="page"  id="driverCompleteProfile">

		<div data-role="header" data-theme="b" role="banner" data-position="fixed">
			<h1>One Call Junk Haul</h1>			
		</div><!-- /header -->

		<div data-role="content">			
				<form id="driverCompleteProfileForm">
					<div style="padding:10px 20px;">
						<h3>Please complete your profile</h3>
						<label for="fm">First Name:</label>
						<input type="text" name="user" id="fn" value="" placeholder="Please enter your first name" data-theme="a">
						<label for="ln">Last Name:</label>
						<input type="text" name="pass" id="ln" value="" placeholder="Please enter your last name" data-theme="a">
						<label for="driverContactNo">Contact:</label>
						<input type="text" name="pass" id="driverContactNo" value="" placeholder="Please enter your contact no" data-theme="a">
						<label for="driverEmailAddress">Email:</label>
						<input type="text" name="pass" id="driverEmailAddress" value="" placeholder="Please enter your email" data-theme="a">
						<label for="driverAddress">Address:</label>
						<input type="text" name="pass" id="driverAddress" value="" placeholder="Please enter your address" data-theme="a">
						<button type="submit" class="ui-btn ui-corner-all ui-shadow ui-btn-b ui-btn-icon-left ui-icon-check">Submit</button>
					</div>
				</form>			
		</div><!-- /content -->

		<!--<div data-role="footer" data-position="fixed" data-theme="b" role="banner">
			<h4>Page Footer</h4>
		</div><!-- /footer -->
</div><!-- /page -->	

	<script type="text/javascript" charset="utf-8" src="apis/utility.js"></script>
	<script type="text/javascript" charset="utf-8" src="apis/intialAjaxCallManager.js"></script>
	<script type="text/javascript" charset="utf-8" src="apis/managerEvents.js"></script>
	<script type="text/javascript" charset="utf-8" src="apis/callBackEventManager.js"></script>
	<script type="text/javascript" charset="utf-8" src="apis/intialAjaxCallDriver.js"></script>
	<script type="text/javascript" charset="utf-8" src="apis/driverEvents.js"></script>
	<script type="text/javascript" charset="utf-8" src="apis/callBackEventDriver.js"></script>
	<script type="text/javascript" charset="utf-8" src="apis/driver.js"></script>
	<script type="text/javascript" charset="utf-8" src="apis/accelerometer.js"></script>
 	<script type="text/javascript" charset="utf-8" src="apis/camera.js"></script>
 	<script type="text/javascript" charset="utf-8" src="apis/capture.js"></script>
	<script type="text/javascript" charset="utf-8" src="apis/compass.js"></script>
	<script type="text/javascript" charset="utf-8" src="apis/connection.js"></script>
	<script type="text/javascript" charset="utf-8" src="apis/contacts.js"></script>
	<script type="text/javascript" charset="utf-8" src="apis/device.js"></script>
	<script type="text/javascript" charset="utf-8" src="apis/events.js"></script>
 	<script type="text/javascript" charset="utf-8" src="apis/file.js"></script>
	<script type="text/javascript" charset="utf-8" src="apis/geolocation.js"></script>
	<script type="text/javascript" charset="utf-8" src="apis/media.js"></script>
	<script type="text/javascript" charset="utf-8" src="apis/notification.js"></script>
	<script type="text/javascript" charset="utf-8" src="apis/storage.js"></script>			
  </body>
</html>
